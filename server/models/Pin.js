import mongoose from "mongoose";
const PinSchema = new mongoose.Schema({ code:{type:String, required:true, unique:true}, type:{type:String, enum:["exam","result"], default:"result"}, issuedTo:{type:mongoose.Types.ObjectId, ref:"Student", default:null}, usedCount:{type:Number, default:0}, maxUse:{type:Number, default:2}, lastUsedAt:{type:Date, default:null}, purchased:{type:Boolean, default:false}, used:{type:Boolean, default:false}, usedBy:{type:mongoose.Types.ObjectId, ref:"Student", default:null}, usedAt:{type:Date, default:null}, metadata:{type:Object, default:{}}, createdAt:{type:Date, default:Date.now} },{timestamps:true}); export default mongoose.model("Pin", PinSchema);
